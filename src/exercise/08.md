# Les Classes - Shorthand - VisibilitÃ©

### ğŸ’¡ Les Classes - Shorthand - VisibilitÃ©

## ğŸ“ Tes notes

Detaille ce que tu as appris ici
`src/exercise/01.md`ouÂ surÂ uneÂ pageÂ [Notion](https://go.mikecodeur.com/course-notes-template)

## Comprendre

CrÃ©er des classes avec beaucoup de champs peut devenir fastidieux. TypeScript
propose des raccourcis

```tsx
//dÃ©claration normal
class User {
  name: string
  surname: string
  age: number
  constructor(name: string, surname: string, age: number) {
    this.name = name
    this.surname = surname
    this.age = age
  }
}
```

- Shorthand

```tsx
class User {
  constructor(
    public name: string,
    public surname: string,
    public age: number,
  ) {}
}
```

Nous voyons ici le mot rÃ©servÃ© `public` . Il sâ€™agit de la visibilitÃ© de la
propriÃ©tÃ©. Pour utiliser les racourcis, la visibilitÃ© est obligatoire. Les
valeurs possibles

- `public` : membre publique
- `private` : membre privÃ©
- `protected` : accessible depuis la classe enfant
- `readonly` : lecteur seule

## Exercice

Modifie la Classe `Game` crÃ©Ã©e prÃ©cÃ©demment en la simplifiant grÃ¢ce aux
raccourcis

```tsx
class Game {
  title: string
  category: string
  price: number
  pegi: string
  studio: string
  hardware: string[]
  constructor(
    title: string,
    category: string,
    price: number,
    pegi: string,
    studio: string,
    hardware: string[],
  ) {
    this.title = title
    this.category = category
    this.price = price
    this.pegi = pegi
    this.studio = studio
    this.hardware = hardware
  }
  isPC() {
    return this.hardware.includes('PC')
  }
  getDiscount(d: number) {
    return this.price * d
  }
}
```

- vÃ©rifie que le comportement est identique
-

## Bonus

### 1. ğŸš€ champs private

Il arrive parfois que notre code soit partagÃ© avec dâ€™autres entitÃ©. Exemple
librairie de jeux partagÃ© avec une autre Ã©quipe de dÃ©veloppeur.

Que ce passerait tâ€™il sâ€™y un dÃ©veloppeur exÃ©cute ce code

```tsx
mario.hardware.push('PC')

displayText(
  `Le jeu : ${mario.title} est compatible pc ? ${
    mario.isPC() ? ' oui' : 'non'
  }`,
)
```

En accÃ©dant directement Ã  la propriÃ©tÃ© `hardware` on peut modifier le
comportement de `isPC()`. Pour Ã©viter cela nous allons changer la visibilitÃ© du
champs `hardware`

- Rend le champ `hardware` privÃ© tel que `mario.hardware.push('PC')` soit
  interdit
- Rend Ã©galement le champ `pegi` privÃ© nous ne voulons pas quâ€™il soit accessible

### 2. ğŸš€ Champs Protected

Nous avons maintenant une classe enfant `IphoneGame` qui correspond Ã  des jeux

- dans la `category` â€˜mobileâ€™
- pour le `hardware` â€˜IOSâ€™

Sauf que le champs `PEGI` est remplacÃ© par `ESRB` (lâ€™Ã©quivalent US)

```tsx
class IphoneGame extends Game {
  constructor(public title: string, public price: number, public esrb: string) {
    super(title, 'Mobile', price, esrb.includes('AO') ? 'PEGI18' : '', '', [
      'IOS',
    ])
  }
}
const adultGame = new IphoneGame('GTA6', 79.9, 'AO')
// comme esrb = 'AO' pegi = 'PEGI18'
```

- implÃ©mente la mÃ©thode `isAdult()` dans `IphoneGame`

```tsx
isAdult() {
    //si pegi vaut 'PEGI18' reoturne true
}
```


ğŸ’¡ Souviens toi que `pegi` est privÃ© et doit restÃ© non accessible.



- vÃ©rifie lâ€™affichage avec

```tsx
displayText(
  `Le jeu : ${adultGame.title} est pour adulte ? ${
    adultGame.isAdult() ? ' oui' : 'non'
  }`,
)
//GTA6 est pour adulte? oui
```

### 3. ğŸš€ ReadOnly

Il est possible de modifier le prix dâ€™un jeux de la maniere suivante

```tsx
const fifa = new Game('Fifa', '', 79.9, '', '', ['PC', 'PS5', 'XBOX'])
fifa.price = 5
```

On pourrait modifier le champs en `private` mais on ne pourrait plus lâ€™utiliser
pour afficher un prix.

- rend prix non modifiable

ğŸ“‘ Le lien vers la doc
[readonly](https://www.tutorialsteacher.com/typescript/typescript-readonly)

## ğŸœ Feedback

Remplir le formulaire le [formulaire de FeedBack.](https://go.mikecodeur.com/cours-react-avis?entry.1912869708=TypeScript%20PRO&entry.1430994900=4.TypeScript%20Avancee&entry.533578441=08%20Les%20classes%20visibilitÃ©)
